(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{493:function(e,t,r){"use strict";r.r(t);var a=r(8),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"remote-containerとは"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#remote-containerとは"}},[e._v("#")]),e._v(" Remote Containerとは")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack",title:"Remote Container",target:"_blank",rel:"noopener noreferrer"}},[e._v("Remote Container"),r("OutboundLink")],1),e._v("はVSCodeの拡張機能のひとつ。")]),e._v(" "),r("p",[e._v("Dockerの機能を活用して、コンテナ内で作業ができる。")]),e._v(" "),r("p",[e._v("これにより、以下のような恩恵を得られる。（一例）")]),e._v(" "),r("ul",[r("li",[e._v("ローカルを汚さずに開発環境を整えられる。")]),e._v(" "),r("li",[e._v("環境構築をコード化できる。")]),e._v(" "),r("li",[e._v("プロジェクトごとにVSCode拡張機能を使い分けられるようになる。")])]),e._v(" "),r("h2",{attrs:{id:"クイックスタート"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#クイックスタート"}},[e._v("#")]),e._v(" クイックスタート")]),e._v(" "),r("p",[e._v("ためしにVuejsの開発環境をRemoteContainerで作ってみる。")]),e._v(" "),r("p",[e._v("以下にすべて書いてあるが、日本語でまとめてみる。"),r("br"),e._v(" "),r("a",{attrs:{href:"https://code.visualstudio.com/docs/remote/containers",title:"https://code.visualstudio.com/docs/remote/containers",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://code.visualstudio.com/docs/remote/containers"),r("OutboundLink")],1)]),e._v(" "),r("h3",{attrs:{id:"前提"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前提"}},[e._v("#")]),e._v(" 前提")]),e._v(" "),r("ul",[r("li",[e._v("Dockerがインストール済みであること。")]),e._v(" "),r("li",[e._v("VSCodeの拡張機能「"),r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack",title:"Remote Container",target:"_blank",rel:"noopener noreferrer"}},[e._v("Remote Container"),r("OutboundLink")],1),e._v("」がインストール済みであること。")])]),e._v(" "),r("h3",{attrs:{id:"container-を立ち上げる"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#container-を立ち上げる"}},[e._v("#")]),e._v(" Container を立ち上げる")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("空のフォルダを作成し、VSCodeで開く。")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("Ctrl+Shift+P")]),e._v("を押し、以下のコマンドを実行する")]),e._v(" "),r("blockquote",[r("p",[e._v("Remote-Containers: Add Development Container Configuration Files")])])]),e._v(" "),r("li",[r("p",[r("code",[e._v("Show All Definitions...")]),e._v(" をクリック。"),r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-19-37-16.png",alt:""}})])]),e._v(" "),r("li",[r("p",[e._v("nodeと入力して"),r("code",[e._v("Node.js")]),e._v(" を選択。"),r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-19-38-51.png",alt:""}})])]),e._v(" "),r("li",[r("p",[e._v("バージョンを選択。"),r("br"),e._v(" "),r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-20-07-36.png",alt:""}})])]),e._v(" "),r("li",[r("p",[e._v("以下のようなメッセージが出たら"),r("code",[e._v("Reopen in Container")]),e._v("をクリック。"),r("br"),e._v(" "),r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-20-08-21.png",alt:""}}),e._v("コンテナの準備が整うまでしばらく待つ。VSCodeの左下が以下のようになれば完了。"),r("br"),e._v(" "),r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-20-10-42.png",alt:""}})]),e._v(" "),r("p",[e._v("なお、コンテナの準備に時間がかかるのは初回のみで、次回からはもう少し早く起動できる。")])])]),e._v(" "),r("p",[e._v("これだけでNodejs導入済みのコンテナを立ち上げ、リモート接続することができた。")]),e._v(" "),r("p",[e._v("試しにnpmが動くか確認。")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("    $ npm -v\n    6.14.8\n")])])]),r("h3",{attrs:{id:"ディレクトリの内訳"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ディレクトリの内訳"}},[e._v("#")]),e._v(" ディレクトリの内訳")]),e._v(" "),r("p",[e._v("ディレクトリの中身を見ると、以下のようになっている。")]),e._v(" "),r("p",[r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-20-26-05.png",alt:""}}),r("a",{attrs:{href:"https://code.visualstudio.com/docs/remote/devcontainerjson-reference",target:"_blank",rel:"noopener noreferrer"}},[e._v("devcontainer.json"),r("OutboundLink")],1),e._v("**"),r("br"),e._v("\n**コンテナ内で使用するVSCodeの設定、拡張機能、使用するDockerfileなどを指定できる。")]),e._v(" "),r("p",[r("a",{attrs:{href:"http://docs.docker.jp/v17.06/engine/reference/builder.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Dockerfile"),r("OutboundLink")],1),r("br"),e._v("\ndockerイメージをビルドする際の設定を書くファイル。")]),e._v(" "),r("h3",{attrs:{id:"vue-cliが初回起動時にグローバルインストールされるようにする"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-cliが初回起動時にグローバルインストールされるようにする"}},[e._v("#")]),e._v(" Vue CLIが初回起動時にグローバルインストールされるようにする")]),e._v(" "),r("p",[e._v("Vueには便利な"),r("a",{attrs:{href:"https://v3.vuejs.org/guide/installation.html#cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("公式cli"),r("OutboundLink")],1),e._v("が存在するため、コンテナの初回起動時に自動でインストールされるようにしてみる。")]),e._v(" "),r("ol",[r("li",[r("p",[r("code",[e._v("Dockerfile")]),e._v("を開き、以下の行を追記する。")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("RUN npm install -g @vue/cli\n")])])])]),e._v(" "),r("li",[r("p",[e._v("左下の"),r("code",[e._v("Dev Container: Node.js")]),e._v("を押下し、"),r("code",[e._v("Rebuild...")]),e._v("を選択する。"),r("br"),e._v(" "),r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-21-06-51.png",alt:""}})])]),e._v(" "),r("li",[r("p",[e._v("ターミナルで以下のように入力し、Vue cliがグローバルインストールされている事を確認する。")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("$ vue -V\n@vue/cli 4.5.9\n")])])])])]),e._v(" "),r("h3",{attrs:{id:"vue拡張機能が初回起動時にインストールされるようにする"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue拡張機能が初回起動時にインストールされるようにする"}},[e._v("#")]),e._v(" Vue拡張機能が初回起動時にインストールされるようにする")]),e._v(" "),r("p",[e._v("VSCodeには、Vuejs開発に便利な"),r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=octref.vetur",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vetur"),r("OutboundLink")],1),e._v("という拡張機能がある。"),r("br"),e._v("\nなのでこれをコンテナの初回起動時に自動インストールされるようにしてみる。")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("拡張機能ペインを開き、"),r("code",[e._v("Vetur")]),e._v("と検索する。")])]),e._v(" "),r("li",[r("p",[e._v("Veturを右クリックし、"),r("code",[e._v("Add to devcontainer.json")]),e._v("をクリックする。")]),e._v(" "),r("p",[r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-22-47-54.png",alt:""}})])]),e._v(" "),r("li",[r("p",[r("code",[e._v("devcontainer.json")]),e._v("を開き、VeturのIDが追加されている事を確認する。")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v('"extensions": [\n\t\t"dbaeumer.vscode-eslint",\n\t\t"octref.vetur"\n\t],\n')])])])]),e._v(" "),r("li",[r("p",[e._v("コンテナをリビルドする。"),r("br"),e._v(" "),r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-21-06-51.png",alt:""}})])]),e._v(" "),r("li",[r("p",[r("code",[e._v("DEV CONTAINER... - インストール済み")]),e._v("のところにVeturが追加された。")]),e._v(" "),r("p",[r("img",{attrs:{src:"/assets/img/screenshot-2020-11-23-at-22-55-14.png",alt:""}})])])]),e._v(" "),r("h2",{attrs:{id:"おわりに"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#おわりに"}},[e._v("#")]),e._v(" おわりに")]),e._v(" "),r("p",[e._v("今まではローカル環境に全ての拡張機能を入れていたので、「Vue開発してる時はJava拡張機能が邪魔で、Java開発する時にはVue拡張機能が邪魔」みたいな事になっていた。")]),e._v(" "),r("p",[e._v("これが解決出来るだけでもめちゃくちゃ有り難い。")]),e._v(" "),r("p",[e._v("チームでエディタの設定なども同時に共有出来るのもすごく捗りそうだなと思った。")]),e._v(" "),r("h2",{attrs:{id:"今回の成果物"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#今回の成果物"}},[e._v("#")]),e._v(" 今回の成果物")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/qnaiv/remote-container-quickstart",title:"https://github.com/qnaiv/remote-container-quickstart",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/qnaiv/remote-container-quickstart"),r("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);