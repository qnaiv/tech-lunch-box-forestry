(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{481:function(e,s,t){"use strict";t.r(s);var r=t(8),n=Object(r.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"現象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#現象"}},[e._v("#")]),e._v(" 現象")]),e._v(" "),t("p",[e._v("日本語ファイル名のmarkdown(.md)ファイルを複数個用意して、"),t("code",[e._v("@gridsome/source-filesystem")]),e._v("を使ってスキャンさせようとした。")]),e._v(" "),t("p",[e._v("gridsome.config.jsの設定は以下のような感じ。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v('...\nplugins: [\n    {\n      use: "@gridsome/source-filesystem",\n      options: {\n        path: "projects/**/*.md",\n        typeName: "ProjectPost",\n        resolveAbsolutePaths: true,\n        remark: {\n          externalLinksTarget: "_blank",\n          externalLinksRel: ["nofollow", "noopener", "noreferrer"],\n        },\n      },\n    },\n]\n...\n')])])]),t("p",[e._v("しかし、画面上に1つの記事しか表示されなかった。")]),e._v(" "),t("p",[e._v("そしてURLが/projects/で終わってしまっている。(記事ごとにユニークなURLになってない。)")]),e._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/screenshot-2020-08-01-at-13-48-08-display-1.png",alt:""}})]),e._v(" "),t("h1",{attrs:{id:"結論"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#結論"}},[e._v("#")]),e._v(" 結論")]),e._v(" "),t("p",[t("code",[e._v("gridsome.config.js")]),e._v("に"),t("code",[e._v("templates")]),e._v("を定義し、記事のpathにファイル名ではなくidを使うように変更した。")]),e._v(" "),t("p",[e._v("gridsome.config.js")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v('plugins: [\n\t...\n],\ntemplates: {\n\tProjectPost: "/projects/:id",\n}\n')])])]),t("p",[e._v("URLがユニークになって、すべての記事が画面上に表示されるようになった。")]),e._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/screenshot-2020-08-01-at-13-51-18-display-1.png",alt:""}})]),e._v(" "),t("h1",{attrs:{id:"原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[e._v("#")]),e._v(" 原因")]),e._v(" "),t("p",[e._v("Gridsomeの"),t("a",{attrs:{href:"https://gridsome.org/docs/templates/",target:"_blank",rel:"noopener noreferrer"}},[e._v("公式ドキュメント"),t("OutboundLink")],1),e._v("を見ると、以下のように書いてある。")]),e._v(" "),t("blockquote",[t("p",[e._v("Path parameters are slugified by default")]),e._v(" "),t("p",[e._v("(パスパラメータはデフォルトでslug化される）")])]),e._v(" "),t("p",[e._v("slug化とは、文章の中のスペースをスラッシュに置き換えたりしてURLに使える形に最適化することのようだ。")]),e._v(" "),t("blockquote",[t("p",[e._v("some string -> some-string")])]),e._v(" "),t("p",[e._v("おそらくこのslug化する機能が日本語を認識してくれないのではないかと思う。(未検証)")]),e._v(" "),t("p",[e._v("今回、URLにslugを用いるのをやめてIDをつけるように対応したが、本当はslugを用いたほうがSEO的には良いらしい？")]),e._v(" "),t("p",[e._v("参考: "),t("a",{attrs:{href:"https://school.dhw.co.jp/word/design/slug.html",title:"https://school.dhw.co.jp/word/design/slug.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://school.dhw.co.jp/word/design/slug.html"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("でも、個人的にはSEOはあまり重要視していないので、IDで行くことにする。")]),e._v(" "),t("p",[e._v("-完-")])])}),[],!1,null,null,null);s.default=n.exports}}]);